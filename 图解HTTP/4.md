## 图解 HTTP 笔记（四）——HTTP 状态码

> 本章主要内容是了解 HTTP 状态码的工作机制

状态码的职责是当客户端向服务器端发送请求时，描述返回的请求结果。借助状态码，我们可以了解这次请求是否在服务器端得到了正常的处理。

状态码从其含以上可以分为五种：

|      | 类别                             | 原因短语                   |
| ---- | -------------------------------- | -------------------------- |
| 1XX  | Informational（信息性状态码）    | 接受的请求正在处理         |
| 2XX  | Success（成功状态码）            | 请求正常处理完毕           |
| 3XX  | Redirection（重定向状态码）      | 需要进行附加操作以完成请求 |
| 4XX  | Client Error（客户端错误状态码） | 服务器无法处理请求         |
| 5XX  | Server Error（服务端错误状态码） | 服务器处理请求出错         |

下面介绍一下常用的一些状态码。

### 一、2XX 成功

#### 1.1 200 OK

表示从客户端发送的请求被服务器正常处理了。

#### 1.2 204 No Content

该状态码表示客户端发送的请求已经在服务器端正常处理了，但是没有返回的内容，响应报文中不包含实体的主体部分。

一般在只需要从客户端往服务器端发送信息，而服务器端不需要往客户端发送内容时使用。

#### 1.3 206 Partial Content

该状态码表示客户端进行了范围请求，而服务器端执行了这部分的 GET 请求。响应报文中包含由 Content-Range 指定范围的实体内容。

### 二、3XX 重定向

3XX 响应状态码表示浏览器需要执行某些特殊的处理以正确处理请求。

#### 2.1 301 Moved Permanently

永久性重定向。

该状态码表示请求的资源已经被分配了新的 URI，以后应使用资源指定的 URI。新的 URI 会在 HTTP 响应头中的 Location 首部字段指定。

#### 2.2 302 Found

临时重定向。

该状态码表示请求的资源被分配到了新的 URI，希望用户（本次）能使用新的 URI 访问资源。

和 302 Moved Permanently 状态码相似，但是 302 代表的资源不是被永久重定向，只是临时性质的。

#### 2.3 303 See Other

该状态码表示由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源。

303 状态码和 302  Found 状态码有着相似的功能，但是 303 状态码明确表示客户端应当采用 GET 方法获取资源。



> 当 301、302、303 响应状态码返回时，几乎所有的浏览器都会把 POST 改成 GET，并删除请求报文内的主体，之后请求会再次自动发送。
>
> 301、302 标准是禁止将 POST 方法变成 GET 方法的，但实际大家都会这么做。

#### 2.4 304 Not Modified

该状态码表示客户端发送附带条件的请求时（GET 请求包含 If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since 中任一首部）服务端允许访问请求访问资源，但因为请求没有满足条件，所以发生 304 Not Modified 重定向，直接使用客户端缓存的资源。

#### 2.5 307 Temporary Redirect

临时重定向。

该状态码与 302 Found 有着相同含义，尽管 302 标准禁止 POST 变成 GET，但是实际使用时还是这样做了。

**307 会遵守浏览器标准，不会从 POST 变成 GET**。但是对于处理请求的行为时，不同浏览器还是会出现不同的情况。

### 三、4XX 客户端错误

4XX 的结果表明客户端是发生错误的原因所在。

#### 3.1 400 Bad Request

该状态码表示请求报文中存在语法错误。当错误发生时，需修改请求的内容后再次发送请求。

#### 3.2 401 Unauthorized

该状态码表示请求需要通过认证。

#### 3.3 403 Forbidden

该状态码表明请求资源的访问被服务器拒绝了，服务器端没有必要给出详细理由，但是可以在响应报文实体的主体中进行说明。

#### 3.4 Not Found

该状态码表明服务器上无法找到请求的资源。

### 四、5XX 服务端错误

5XX 的响应结果表明服务端本身发生了错误。

#### 4.1 500 Internet Server Error

该状态码表明服务端在执行请求时存在错误，也有可能是 Web 应用存在的 bug 或者某些临时故障。

#### 4.2 503 Service Unavailable

该状态码表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。

